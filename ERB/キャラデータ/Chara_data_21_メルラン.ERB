@CHARAMOVE_DATA_21(ARG,ARG:2)
LOCAL = 21
SELECTCASE ARG
	;移動対象メンバーチェック
	CASE 1
		;連動処理（リリカと一緒）
		IF TALENT:22:恋慕 || (TALENT:22:思慕 && !TALENT:21:思慕 && !TALENT:20:思慕)
			CFLAG:LOCAL:現在位置 = CFLAG:22:遭遇位置 ? CFLAG:22:遭遇位置 # SUKIMA()
		ELSEIF TALENT:21:恋慕 || (TALENT:21:思慕 && (!TALENT:22:思慕 || !TALENT:20:思慕))
			CFLAG:LOCAL:現在位置 = CFLAG:21:遭遇位置 ? CFLAG:21:遭遇位置 # SUKIMA()
		ELSE
			CFLAG:LOCAL:現在位置 = CFLAG:20:遭遇位置 ? CFLAG:20:遭遇位置 # SUKIMA()
		ENDIF
		RETURN 0
	;移動確率
	CASE 2
	;起床時間帯
	CASE 3
		RETURN 睡眠時間(LOCAL)
	;移動傾向
	CASE 4
		SELECTCASE ARG:2
			;私室には入らない
			CASE 15, 17, 19, 53, 55
				RETURN -100
			CASE 18, 43, 44, 51, 52
				RETURN -100
			;納屋と屋敷の三階と地下、及び各私室
			CASE 303, 304, 305, 311, 312, 318, 320, 321, 323, 325, 344, 345, 346, 348
				RETURN -100
		ENDSELECT
	;仕事時間帯
	CASE 5
	;行く地域(0=博1=寺2=里3=湖4=竹5=森6=冥7=山8=守9=地10=月）
	CASE 6
		SELECTCASE ARG:2
			CASE 2, 3, 6
				RETURN 1
			CASEELSE
				RETURN 0
		ENDSELECT
	;出現場所
	CASE 7
		SELECTCASE ARG:2
			CASE 21,22,23, 31,32,33,34, 61,62,65,66
				RETURN 1
			CASEELSE
				RETURN 0
		ENDSELECT
ENDSELECT

@EXIST_キャラデータ21
#LOCALSIZE 1
#LOCALSSIZE 1

@キャラデータ21(ARG, O_DATA, V_NAME)
#FUNCTION
#LOCALSIZE 1
#LOCALSSIZE 1
#DIMS O_DATA
#DIMS V_NAME
SELECTCASE O_DATA
CASE "呼び名"
	CALLF MAKE_STR(V_NAME, "メルラン")
;こっから衣装設定
CASE "今日のパジャマ"
	CALLF MAKE_STR(V_NAME, "パジャマ（ズボン）セット")

CASE "普段着：帽子"
	CALLF MAKE_INT(V_NAME, CLOTHES_ID("帽子", "帽子"))
CASE "普段着：靴"
	CALLF MAKE_INT(V_NAME, CLOTHES_ID("靴", "靴"))
CASE "普段着：靴下"
	CALLF MAKE_INT(V_NAME, CLOTHES_ID("靴下", "靴下"))
CASE "普段着：スカート"
	CALLF MAKE_INT(V_NAME, CLOTHES_ID("スカート", "スカート"))
CASE "普段着：上半身上着２"
	CALLF MAKE_INT(V_NAME, CLOTHES_ID("上半身上着２", "ブラウス"))
CASE "普段着：外衣"
	CALLF MAKE_INT(V_NAME, CLOTHES_ID("外衣", "ベスト"))

CASE "固有下着形容詞"
	CALLF MAKE_STR(V_NAME, "お日様模様の")
CASE "固有下半身下着名"
	CALLF MAKE_STR(V_NAME, "フラップショーツ")
CASE "固有上半身下着"
	CALLF MAKE_INT(V_NAME, 1)
CASE "固有上半身下着名"
	CALLF MAKE_STR(V_NAME, "フルカップブラ")
CASE "固有下着着用条件"
	SIF !RAND:(1 + (2 * 勝負下着判定([[メルラン]])))
		CALLF MAKE_INT(V_NAME, 1)
CASE "固有下着透ける(前)"
	CALLF MAKE_INT(V_NAME, 1)
CASE "固有下着透ける(後)"
	CALLF MAKE_INT(V_NAME, 1)
CASE "固有下着生地厚さ"
	CALLF MAKE_INT(V_NAME, 2)

;料理関連
CASE "料理：好きな味"
	CALLF MAKE_STR(V_NAME, "ミルク/チーズ/洋食/鍋物/パイ/ガッツリ/ジャンキー/芸術的/鮮やか/豪快/ふわふわ/甘い/甘い/辛い/辛い/")
CASE "料理：嫌いな味"
	CALLF MAKE_STR(V_NAME, "あっさり/しょっぱい/しょっぱい/虫肉/虫肉/虫肉/スパイス/スパイス/スパイス/")
CASE "料理：助手効果"
	CALLF MAKE_STR(V_NAME, "未知の味/")
;贈り物関連
CASE "感性：好き"
	CALLF MAKE_STR(V_NAME, "ピンク/幽霊/かわいい/派手/パワフル/" + "音楽/日/楽器/" * 3 + "虹の/幽霊の/歓びの/幸せの/トリニタリアンな/" * 5)
CASE "感性：嫌い"
	CALLF MAKE_STR(V_NAME, "シック/繊細/" + "星/月/刃物/弾/小手/キセル/" * 3 + "バチ/ピック/スティック/" * 5 + "精霊銀の/憂鬱の/" * 10)
ENDSELECT

